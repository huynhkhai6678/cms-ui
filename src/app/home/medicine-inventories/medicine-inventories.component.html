<div class="d-flex justify-content-between align-items-end mb-5">
    <h1>{{medicine?.name}}</h1>
    <div>
        <button [routerLink]="'/home/medicines'" class="btn btn-outline-primary float-end">
            {{'messages.common.back' | translate}}
        </button>
        <button class="btn btn-primary me-2" (click)="create()">
            {{'messages.medicine-inventory.new_button' | translate}}
        </button>
    </div>
</div>
<div>
    <app-data-table 
        [url]="url" 
        [headers]="tableColumns" 
        [actionTemplate]="actionTemplate"
        [showClinicFilterTemplate]="false"
        [columnCustomTemplates]="columnCustomTemplates">
    </app-data-table>

    <ng-template #actionTemplate let-row>
        <button class="btn px-2 border-0 text-primary fs-2" [routerLink]="`/home/medicine-inventory-usages/${row.id}`">
            <i class="fa-solid fa-eye" title="Edit"></i>
        </button>
        <button class="btn px-2 border-0 text-primary fs-2" (click)="edit(row.id)">
            <i class="fa-solid fa-pen-to-square" title="Edit"></i>
        </button>
        <button class="btn px-2 border-0 text-danger fs-2" (click)="delete(row)">
            <i class="fa-solid fa-trash" title="Delete"></i>
        </button>
    </ng-template>

    <ng-template #quantityTemplate let-item>
        <span class="badge bg-light-primary">{{item.available_quantity}}</span>
    </ng-template>

    <ng-template #createdTemplate let-item>
        <span class="badge bg-light-primary">{{item.created_at | date:'dd/MM/yyyy'}}</span>
    </ng-template>

    <ng-template #expiryTemplate let-item>
        <span class="badge bg-light-primary">{{item.expiration_date | date:'dd/MM/yyyy'}}</span>
    </ng-template>
</div>
